{"ast":null,"code":"var _jsxFileName = \"/Users/zenith/Documents/Epicode/w10-d6/src/component/AddComments.jsx\";\nimport { Component } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AddComments extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      comment: \"\",\n      rate: 1,\n      elementId: \"\"\n    };\n    this.onChangeHandler = (value, fieldToSet) => {\n      this.setState({\n        ...this.state.feedback,\n        // this creates a copy of feedback!\n        [fieldToSet]: value\n      });\n    };\n    this.onSubmitHandler = async e => {\n      e.preventDefault();\n      try {\n        let response = await fetch(\"https://striveschool-api.herokuapp.com/api/comments\", {\n          method: \"POST\",\n          body: JSON.stringify(this.state),\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzdmNmI5ZGQ4MzkzNTAwMTVlOGM0YWQiLCJpYXQiOjE2NjkyOTUwMDUsImV4cCI6MTY3MDUwNDYwNX0.ldU_NzLILQGw9ON-Dqwr_ijMy_HY92g_qu_TICsCaco\"\n          }\n        });\n        console.log(response);\n        if (response.ok) {\n          alert(\"Feedback saved!\");\n          this.setState({\n            comment: \"\",\n            rate: 1,\n            elementId: \"\"\n          });\n        } else {\n          console.log(\"something went wrong :(\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.elementId !== this.props.elementId) this.setState({\n      elementId: this.props.elementId\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.onSubmitHandler,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Comment?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Comment\",\n            required: true,\n            value: this.state.comment,\n            onChange: e => this.onChangeHandler(e.target.value, \"comment\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Rating?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            required: true,\n            value: this.state.rate,\n            onChange: e => this.onChangeHandler(e.target.value, \"rate\"),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Send Feedback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default AddComments;","map":{"version":3,"names":["Component","Form","Button","AddComments","state","comment","rate","elementId","onChangeHandler","value","fieldToSet","setState","feedback","onSubmitHandler","e","preventDefault","response","fetch","method","body","JSON","stringify","headers","Authorization","console","log","ok","alert","error","componentDidUpdate","prevProps","prevState","props","render","target"],"sources":["/Users/zenith/Documents/Epicode/w10-d6/src/component/AddComments.jsx"],"sourcesContent":["import { Component } from \"react\"\nimport { Form, Button } from \"react-bootstrap\"\n\nclass AddComments extends Component {\n  state = {\n    comment: \"\",\n    rate: 1,\n    elementId: \"\"\n  }\n\n  onChangeHandler = (value, fieldToSet) => {\n    this.setState({\n      ...this.state.feedback, // this creates a copy of feedback!\n      [fieldToSet]: value\n    })\n  }\n\n  onSubmitHandler = async (e) => {\n    e.preventDefault()\n    try {\n      let response = await fetch(\n        \"https://striveschool-api.herokuapp.com/api/comments\",\n        {\n          method: \"POST\",\n          body: JSON.stringify(this.state),\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization:\n              \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzdmNmI5ZGQ4MzkzNTAwMTVlOGM0YWQiLCJpYXQiOjE2NjkyOTUwMDUsImV4cCI6MTY3MDUwNDYwNX0.ldU_NzLILQGw9ON-Dqwr_ijMy_HY92g_qu_TICsCaco\"\n          }\n        }\n      )\n      console.log(response)\n      if (response.ok) {\n        alert(\"Feedback saved!\")\n        this.setState({\n          comment: \"\",\n          rate: 1,\n          elementId: \"\"\n        })\n      } else {\n        console.log(\"something went wrong :(\")\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.elementId !== this.props.elementId)\n      this.setState({ elementId: this.props.elementId })\n  }\n\n  render() {\n    return (\n      <div>\n        <Form onSubmit={this.onSubmitHandler}>\n          <Form.Group>\n            <Form.Label>Comment?</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter Comment\"\n              required\n              value={this.state.comment}\n              onChange={(e) => this.onChangeHandler(e.target.value, \"comment\")}\n            />\n          </Form.Group>\n\n          <Form.Group>\n            <Form.Label>Rating?</Form.Label>\n            <Form.Control\n              as=\"select\"\n              required\n              value={this.state.rate}\n              onChange={(e) => this.onChangeHandler(e.target.value, \"rate\")}\n            >\n              <option>1</option>\n              <option>2</option>\n              <option>3</option>\n              <option>4</option>\n              <option>5</option>\n            </Form.Control>\n          </Form.Group>\n\n          <Button variant=\"primary\" type=\"submit\">\n            Send Feedback\n          </Button>\n        </Form>\n      </div>\n    )\n  }\n}\n\nexport default AddComments\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}