{"ast":null,"code":"var _jsxFileName = \"/Users/zenith/Documents/Epicode/w10-d6/src/component/AddComments.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddComments = _ref => {\n  _s();\n  let {\n    elementId\n  } = _ref;\n  const [comment, setComment] = useState({\n    comment: \"\",\n    rate: \"Select\",\n    elementId: \"\"\n  });\n  const onChangeHandler = (value, fieldToSet) => {\n    setComment({\n      ...comment,\n      [fieldToSet]: value\n    });\n  };\n  const onSubmitHandler = async e => {\n    e.preventDefault();\n    try {\n      let response = await fetch(\"https://striveschool-api.herokuapp.com/api/comments\", {\n        method: \"POST\",\n        body: JSON.stringify(comment),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzg0YzcwM2Q4MDNjMjAwMTVlY2VlMzEiLCJpYXQiOjE2Njk2NDk2MzMsImV4cCI6MTY3MDg1OTIzM30.YcT8mz69Vnd8RUxkROJEBIe1hh-HsuM2usty8yW8fpg\"\n        }\n      });\n      console.log(response);\n      if (response.ok) {\n        alert(\"Feedback saved!\");\n        setComment({\n          comment: \"\",\n          rate: \"Select\",\n          elementId: \"\"\n        });\n      } else {\n        console.log(\"something went wrong :(\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (prevProps.elementId !== this.props.elementId)\n  //     this.setState({ elementId: this.props.elementId })\n  // }\n\n  useEffect(() => {\n    setComment({\n      ...comment,\n      elementId: elementId\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [elementId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: onSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \" Review a Book \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Comment\",\n          required: true,\n          value: comment.comment,\n          onChange: e => onChangeHandler(e.target.value, \"comment\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \" Give Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          required: true,\n          value: comment.rate,\n          onChange: e => onChangeHandler(e.target.value, \"rate\"),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        children: \"Send Feedback\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(AddComments, \"A6uZRgEO+n1W1X2T/+8F0rlSYZs=\");\n_c = AddComments;\nexport default AddComments;\nvar _c;\n$RefreshReg$(_c, \"AddComments\");","map":{"version":3,"names":["useState","useEffect","Form","Button","AddComments","elementId","comment","setComment","rate","onChangeHandler","value","fieldToSet","onSubmitHandler","e","preventDefault","response","fetch","method","body","JSON","stringify","headers","Authorization","console","log","ok","alert","error","target"],"sources":["/Users/zenith/Documents/Epicode/w10-d6/src/component/AddComments.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport { Form, Button } from \"react-bootstrap\"\n\nconst AddComments = ({ elementId }) => {\n  const [comment, setComment] = useState({\n    comment: \"\",\n    rate: \"Select\",\n    elementId: \"\"\n  })\n\n  const onChangeHandler = (value, fieldToSet) => {\n    setComment({ ...comment, [fieldToSet]: value })\n  }\n\n  const onSubmitHandler = async (e) => {\n    e.preventDefault()\n    try {\n      let response = await fetch(\n        \"https://striveschool-api.herokuapp.com/api/comments\",\n        {\n          method: \"POST\",\n          body: JSON.stringify(comment),\n\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization:\n              \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzg0YzcwM2Q4MDNjMjAwMTVlY2VlMzEiLCJpYXQiOjE2Njk2NDk2MzMsImV4cCI6MTY3MDg1OTIzM30.YcT8mz69Vnd8RUxkROJEBIe1hh-HsuM2usty8yW8fpg\"\n          }\n        }\n      )\n      console.log(response)\n      if (response.ok) {\n        alert(\"Feedback saved!\")\n        setComment({\n          comment: \"\",\n          rate: \"Select\",\n          elementId: \"\"\n        })\n      } else {\n        console.log(\"something went wrong :(\")\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (prevProps.elementId !== this.props.elementId)\n  //     this.setState({ elementId: this.props.elementId })\n  // }\n\n  useEffect(() => {\n    setComment({ ...comment, elementId: elementId })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [elementId])\n\n  return (\n    <div>\n      <Form onSubmit={onSubmitHandler}>\n        <Form.Group>\n          <Form.Label> Review a Book </Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter Comment\"\n            required\n            value={comment.comment}\n            onChange={(e) => onChangeHandler(e.target.value, \"comment\")}\n          />\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label> Give Rating</Form.Label>\n          <Form.Control\n            as=\"select\"\n            required\n            value={comment.rate}\n            onChange={(e) => onChangeHandler(e.target.value, \"rate\")}\n          >\n            <option>1</option>\n            <option>2</option>\n            <option>3</option>\n            <option>4</option>\n            <option>5</option>\n          </Form.Control>\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\">\n          Send Feedback\n        </Button>\n      </Form>\n    </div>\n  )\n}\n\nexport default AddComments\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}